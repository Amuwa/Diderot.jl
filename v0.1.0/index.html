<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Diderot.jl · Diderot</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Diderot</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Diderot.jl</a><ul class="internal"><li><a class="tocitem" href="#Types-1"><span>Types</span></a></li><li><a class="tocitem" href="#Modeling-Interface-1"><span>Modeling Interface</span></a></li><li><a class="tocitem" href="#Usage-1"><span>Usage</span></a></li><li><a class="tocitem" href="#Generic-Implementation-1"><span>Generic Implementation</span></a></li><li><a class="tocitem" href="#Internals-1"><span>Internals</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Diderot.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Diderot.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rschwarz/Diderot.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Diderot.jl-1"><a class="docs-heading-anchor" href="#Diderot.jl-1">Diderot.jl</a><a class="docs-heading-anchor-permalink" href="#Diderot.jl-1" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Diderot.Diderot" href="#Diderot.Diderot"><code>Diderot.Diderot</code></a> — <span class="docstring-category">Module</span></header><section><div><p><strong>Diderot.jl</strong></p><p>Decision Diagrams for Discrete Optimization in Julia.</p><p><a href="https://rschwarz.github.io/Diderot.jl/stable"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt/></a> <a href="https://rschwarz.github.io/Diderot.jl/dev"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt/></a> <a href="https://travis-ci.com/rschwarz/Diderot.jl"><img src="https://travis-ci.com/rschwarz/Diderot.jl.svg?branch=master" alt="Build Status"/></a> <a href="https://codecov.io/gh/rschwarz/Diderot.jl"><img src="https://codecov.io/gh/rschwarz/Diderot.jl/branch/master/graph/badge.svg" alt="Codecov"/></a></p><p>Provides a generic implementation of decisision diagrams (top-down construction of layered state transition graph). Implements a branch-and-bound algorithms with subproblems defined by nodes in an exact cutset of the diagram.</p><p>To support new problem classes, the several methods have to be implemented that are dispatched on the user-defined types for the instance, describing the states and transition functions.</p><p>The solver behavior (restrictions, relaxations, variable order, diagram width) can also be fully customized through user-defined layer processing.</p><p><strong>Motivation</strong></p><p>The package is mostly written as a learning experiment. Implementing an idea gives a deeper understanding of the challenges than just reading about it.</p><p>The appeal of decision diagrams for discrete optimization is two-fold:</p><ol><li>The simplicity of the algorithm makes implementation from scratch a reasonable endeavor.</li><li>It seems that the DD-based branch-and-bound lends itself to parallelization, yielding better speed-ups than MIP solvers.</li></ol><p><strong>Limitations</strong></p><p>This is (still) mostly a naive text book implementation. I&#39;m sure there&#39;s room for improvement in the choice of data structures and avoing frequent allocation.</p><p>It&#39;s currently assumed that the objective function is to be maximized, and the transition values are combined by addition. That is, we&#39;re looking for a longest path in the diagram, using as arc weights the values of the transitions. In principle, one could also choose minimization or use another operator (multiplication, maximum), but this would require even more type parametrization.</p><p>The decision diagram does not keep all transition arcs, but computes the longest path on the fly. That is, after a new layer is created, each node only remembers a single ingoing arc. This simplification works OK for the purpose of finding an optimal solution, but it rules out other use cases, such as enumeration of feasible solutions or post-optimality analysis.</p><p><strong>Problem Classes</strong></p><p>Models and methods for some specific problem classes are also implemented in the context of this package as submodules. The main motivation is test-driving the current API, to make sure it&#39;s sufficiently general and not too verbose.</p><p>Currently included are:</p><ul><li>Binary Knapsack Problem.</li><li>Set Cover Problem.</li></ul><p><strong>References</strong></p><p>The implementation is informed by the book <a href="https://www.springer.com/us/book/9783319428475">Decision Diagrams for Optimization</a> by D Bergman, A Cire, WJ van Hoeve and J Hooker.</p><p>The <a href="http://www.andrew.cmu.edu/user/vanhoeve/mdd/">MDD website</a> also contains a lot of valuable resources, in particular the INFORMS article <a href="http://www.andrew.cmu.edu/user/vanhoeve/papers/discrete_opt_with_DDs.pdf">Discrete Optimization with Decision Diagrams</a>.</p><p><strong>Contributions</strong></p><p>Pull requests with various forms of contributions are very welcome. In particular, I would appreciate suggestions to simplify the current interface, improve overall performance or cover more problem classes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/Diderot.jl#L23-L99">source</a></section></article><h2 id="Types-1"><a class="docs-heading-anchor" href="#Types-1">Types</a><a class="docs-heading-anchor-permalink" href="#Types-1" title="Permalink"></a></h2><p>The type parameters specify the (user-defined) <strong>S</strong>tate, variable <strong>D</strong>omain and objective <strong>V</strong>alue, respectively.</p><article class="docstring"><header><a class="docstring-binding" id="Diderot.Arc" href="#Diderot.Arc"><code>Diderot.Arc</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Arc{S,D,V}</code></pre><p>An arc in the decision diagram, representing a state transition.</p><p>It points to the original/previous state and also stores the decision made (variable assignment) as well as the contribution to the objective function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/381693d3dfc9b7072707f6d544f82f6637fc5e7c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.Node" href="#Diderot.Node"><code>Diderot.Node</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Node{S,D,V}</code></pre><p>Meta-data for a node in the decision diagram.</p><p>Stores the distance from the root node on the longest path so far, the ingoing arc on such a path (but no other ingoing arcs) and a flag to specify whether the state is <em>exact</em>, as opposed to <em>relaxed</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/381693d3dfc9b7072707f6d544f82f6637fc5e7c/base/#L0-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.Layer" href="#Diderot.Layer"><code>Diderot.Layer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Layer{S,D,V}</code></pre><p>A layer of nodes in the decision diagram.</p><p>Represented by mapping from (user-defined) states to the Node meta-data. Also has a flag <code>exact</code> to indicate whether all states are represented exactly (neither restricted nor relaxed).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/381693d3dfc9b7072707f6d544f82f6637fc5e7c/base/#L0-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.Diagram" href="#Diderot.Diagram"><code>Diderot.Diagram</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Diagram{S,D,V}</code></pre><p>A (multi-valued) decision diagram.</p><p>It&#39;s a directed acyclic graph where the nodes represent (feasible) states and the arcs transitions triggered by decision variable assignments. Decisions are made sequentially and arcs only connect consecutive layers. The initial layer contains the single, given root node. All nodes in the final layer are merged to a single terminal node.</p><p>As the variable order can be defined dynamically, the variable indices are also stored. Note that the constructed diagram will have N+1 layers for N variables.</p><p>There is also a property <code>partial_sol</code> containing indices of variables that are already assigned outside this diagram (in the context of branch-and-bound).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/381693d3dfc9b7072707f6d544f82f6637fc5e7c/base/#L0-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.Solution" href="#Diderot.Solution"><code>Diderot.Solution</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Solution{D,V}</code></pre><p>A feasible solution, with decisions for all variables (in order) and the objective values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/381693d3dfc9b7072707f6d544f82f6637fc5e7c/base/#L0-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.Subproblem" href="#Diderot.Subproblem"><code>Diderot.Subproblem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Subproblem{D,V}</code></pre><p>A subproblem in the context of branch-and-bound, as defined by an exact node in the diagram. It&#39;s represented by the partial solution given by a longest path from the root that node and the current state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/381693d3dfc9b7072707f6d544f82f6637fc5e7c/base/#L0-L6">source</a></section></article><h2 id="Modeling-Interface-1"><a class="docs-heading-anchor" href="#Modeling-Interface-1">Modeling Interface</a><a class="docs-heading-anchor-permalink" href="#Modeling-Interface-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Diderot.initial_state" href="#Diderot.initial_state"><code>Diderot.initial_state</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">initial_state(instance)</code></pre><p>Initial state for a given instance (used for root node).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/interface.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.domain_type" href="#Diderot.domain_type"><code>Diderot.domain_type</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">domain_type(instance)</code></pre><p>The type used as domain for the decision variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/interface.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.value_type" href="#Diderot.value_type"><code>Diderot.value_type</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">value_type(instance)</code></pre><p>The (numeric) type used in the objective function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/interface.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.next_variable" href="#Diderot.next_variable"><code>Diderot.next_variable</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">next_variable(instance, diagram::Diagram{S,D,V}, variable_order)::Int</code></pre><p>The variable to build the next layer, as an integer index.</p><p>Optional: Defaults to order <code>1:length(instance)</code>.</p><p>Multiple strategies can be implemented for an instance type by defining and passing objects as <code>variable_order</code>.</p><p>The (work-in-progress) diagram is also passed and can be queried about already assigned variables or the nodes &amp; states of the last layer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/interface.jl#L22-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.transitions" href="#Diderot.transitions"><code>Diderot.transitions</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">transitions(instance, state, variable::Int)::Dict{Arc{S,D,V},S}</code></pre><p>All feasible transitions from the given state by any assignment in the variable&#39;s domain.</p><p>Arcs specify the original state, the variable assignment and the contribution the objective and are mapped to the new state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/interface.jl#L37-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.process" href="#Diderot.process"><code>Diderot.process</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">process(processing, layer::Layer{S,D,V})::Layer{S,D,V}</code></pre><p>Build a new layer by processing the nodes of the given layer.</p><p>For restrictions, this could mean simply selecting a subset of the nodes, to stay within the width limit.</p><p>For relaxations, new nodes are created by merging existing nodes (and setting <code>exact=false</code>).</p><p>Optional: Defaults to <code>identity</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/interface.jl#L48-L60">source</a></section></article><h2 id="Usage-1"><a class="docs-heading-anchor" href="#Usage-1">Usage</a><a class="docs-heading-anchor-permalink" href="#Usage-1" title="Permalink"></a></h2><p>Solving an instance by branch-and-bound.</p><pre><code class="language-julia">solution = branch_and_bound(instance, restrict=Restrict(), relax=Relax())</code></pre><article class="docstring"><header><a class="docstring-binding" id="Diderot.branch_and_bound" href="#Diderot.branch_and_bound"><code>Diderot.branch_and_bound</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">branch_and_bound(instance; restrict, relax, variable_order)</code></pre><p>Solve given instance using branch-and-bound. For each subproblem, a restriction is computed to update the incumbent. Then a relaxation is computed. If the problem can not be pruned from the relaxation bound, new subproblems are created from an exact cutset in the relaxation&#39;s diagram.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/implementation.jl#L137-L144">source</a></section></article><p>Solving an instance with a single exact diagram:</p><pre><code class="language-julia">diagram = Diagram(instance)
top_down!(diagram, instance)
solution = longest_path(diagram)</code></pre><p>Similarly, a single restriction or relaxation can be computed.</p><article class="docstring"><header><a class="docstring-binding" id="Diderot.top_down!" href="#Diderot.top_down!"><code>Diderot.top_down!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">top_down!(diagram::Diagram{S,D,V}, instance; variable_order, processing)</code></pre><p>Build a decision diagram for given instance. It is developed layer by layer, from the top, by following the state transitions. The first layer with a single root node should already be present in the diagram.</p><p>Without any layer processing, the diagram will be exact, that is will contain a path representing an optimal solution.</p><p>Restrictions or relaxations are achieved by dropping or merging the nodes and states in each layer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/implementation.jl#L57-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Diderot.longest_path" href="#Diderot.longest_path"><code>Diderot.longest_path</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">longest_path(diagram::Diagram{S,D,V})</code></pre><p>Extract optimal solution by following a longest path from root to terminal.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rschwarz/Diderot.jl/blob/d0a6bd3f978a59a9170919bb7cdd60ed35687ab1/src/implementation.jl#L101-L105">source</a></section></article><h2 id="Generic-Implementation-1"><a class="docs-heading-anchor" href="#Generic-Implementation-1">Generic Implementation</a><a class="docs-heading-anchor-permalink" href="#Generic-Implementation-1" title="Permalink"></a></h2><p>TBD</p><h2 id="Internals-1"><a class="docs-heading-anchor" href="#Internals-1">Internals</a><a class="docs-heading-anchor-permalink" href="#Internals-1" title="Permalink"></a></h2><p>TBD</p></article></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 22 May 2020 15:43">Friday 22 May 2020</span>. Using Julia version 1.4.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
